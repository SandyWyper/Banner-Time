function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}(function(){"use:strict";var styleBanner=document.createElement("style");styleBanner.innerHTML="#banner-time{user-select: none;overflow:hidden;}#banner-time a{color: inherit;text-decoration: none;}#banner-time #desktop-banner-slides {display: none !important;}#banner-time #mobile-banner-slides {display: block !important;}@media only screen and (min-width: 768px) {#banner-time #desktop-banner-slides {display: block !important;}#banner-time #mobile-banner-slides{display: none !important;}}";var bannerDiv=document.createElement("div");bannerDiv.id="banner-time";document.head.appendChild(styleBanner);document.body.prepend(bannerDiv);this.Banner=function(){var defaults={startTime:[2019],endTime:[2080],timeZone:0,bannerLink:"",transition:{type:"fade",displayDuration:5000,interval:800,speed:1000},bannerText:{desktop:["STOP!!","BANNER TIME!!"],mobile:["STOP!!","BANNER TIME!!"]},CSS:{display:"flex","justify-content":"center","align-items":"center",background:"orangeRed",color:"white","white-space":"nowrap",height:"43px","line-height":"30px",width:"100%","font-family":"inherit","font-size":"30px","z-index":"25"}};var relevantBannerIndex=getRelevantBannerIndex(arguments);if(arguments[relevantBannerIndex]&&_typeof(arguments[relevantBannerIndex])==="object"){this.options=extendDefaults(defaults,arguments[relevantBannerIndex])}else{this.options=defaults}function extendDefaults(defaults,userOptions){$.extend(true,defaults,userOptions);return defaults}var timeWindow=checkTime(this.options.startTime,this.options.endTime,this.options.timeZone);if(timeWindow){initBanner(this.options)}else{console.log("not showing promotion banner")}}})();function checkTime(starts,ends,timeZone){var adjustTime=function adjustTime(time,timezone){var newTime=[];while(time.length<4){if(time.length===2){time.push(1)}else{time.push(0)}}time.forEach(function(_int,index){if(index===3){newTime.push(_int+timezone)}else{newTime.push(_int)}});return newTime};var showBanner=new Date(Date.UTC.apply(Date,_toConsumableArray(adjustTime(starts,timeZone))));var hideBanner=new Date(Date.UTC.apply(Date,_toConsumableArray(adjustTime(ends,timeZone))));showBanner=showBanner.getTime();hideBanner=hideBanner.getTime();var timeNow=Date.now();if(timeNow>showBanner&&timeNow<hideBanner){return true}else{return false}}function getRelevantBannerIndex(){var mostRecentStartTime=0;var relevantBannerIndex=0;var timeNow=Date.now();Array.from.apply(Array,arguments).forEach(function(arg,index){var startTimeGiven=arg.startTime||[2019];startTimeGiven=new Date(Date.UTC.apply(Date,_toConsumableArray(startTimeGiven)));startTimeGiven=startTimeGiven.getTime();var endTimeGiven=arg.endTime||[2080];endTimeGiven=new Date(Date.UTC.apply(Date,_toConsumableArray(endTimeGiven)));endTimeGiven=endTimeGiven.getTime();if(mostRecentStartTime<startTimeGiven&&timeNow<endTimeGiven){mostRecentStartTime=startTimeGiven;relevantBannerIndex=index}});return relevantBannerIndex}function initBanner(options){var $banner=$("#banner-time");var bannerHTML=buildBannerElements(options.bannerText.desktop,options.bannerText.mobile,options.bannerLink);$banner.append(bannerHTML);$banner.css(options.CSS);transition(options.transition,options.bannerText.desktop.length,"desktop");transition(options.transition,options.bannerText.mobile.length,"mobile")}function buildBannerElements(deskText,mobText,link){var bannerConstructed="";if(deskText){bannerConstructed+="<div id=\"desktop-banner-slides\">";deskText.forEach(function(text,index){bannerConstructed+="<div class=\"js-slide-".concat(index,"\" \n        ").concat(index>0?"style=\"display:none\"":"style=\"display:block\"",">");if(link){bannerConstructed+="<a href=\"".concat(link,"\"><p>").concat(text,"</p></a></div>")}else{bannerConstructed+="<p>".concat(text,"</p></div>")}});bannerConstructed+="</div>"}if(mobText){bannerConstructed+="<div id=\"mobile-banner-slides\">";mobText.forEach(function(text,index){bannerConstructed+="<div class=\"js-slide-".concat(index,"\" ").concat(index>0?"style=\"display:none\"":"style=\"display:block\"",">");if(link){bannerConstructed+="<a href=\"".concat(link,"\"><p>").concat(text,"</p></a></div>")}else{bannerConstructed+="<p>".concat(text,"</p></div>")}});bannerConstructed+="</div>"}return bannerConstructed}function transition(transition,numberOfSlides,screen){if(numberOfSlides>1){switch(transition.type){case"fade":fade(transition,numberOfSlides,screen);break;case"slide":slide(transition,numberOfSlides,screen);}}}function fade(transition,numberOfSlides,screen){var count=0;var $currentSlide;runTransition();function runTransition(){$currentSlide=$("#".concat(screen,"-banner-slides .js-slide-").concat(count));$currentSlide.delay(transition.interval).fadeIn(transition.speed,function(){$currentSlide.delay(transition.displayDuration).fadeOut(transition.speed,function(){count=count<numberOfSlides-1?count+1:0;runTransition()})})}}function slide(transition,numberOfSlides,screen){var count=0;var $currentSlide;$("#".concat(screen,"-banner-slides")).css({position:"relative",width:"100%",height:"100%"});styleSlides(screen);runTransition();function runTransition(){$currentSlide=$("#".concat(screen,"-banner-slides .js-slide-").concat(count));$currentSlide.animate({left:$currentSlide.parent().width()/2-$currentSlide.width()/2},transition.speed).delay(transition.displayDuration).animate({left:"300%"},transition.speed,function(){setTimeout(function(){$currentSlide.css({left:"-200%"});count=count<numberOfSlides-1?count+1:0;$(this).stop();runTransition()},transition.interval)})}}function styleSlides(screen){$("#".concat(screen,"-banner-slides > div")).css({position:"absolute",height:"100%",left:"-200%",display:"flex","align-items":"center","justify-content":"center"})}